@page
@model DodajKsiazeczke
@using Pages;
@using ZwierzePlus.Model;

<h2 class="mt-4">Książeczka zdrowia</h2>

    <div class = "row"> 
            <div class="col-md-6">
                <form method="post" class="row g-3">
                    <div class="form-group mt-4">
                        <label asp-for="Ksiazeczka.matka">Matka:</label>
                        <input asp-for="Ksiazeczka.matka" class="form-control" />
                        <span asp-validation-for="Ksiazeczka.matka" class="text-danger"></span>
                    </div>
                    <div class="form-group mt-4">
                        <label asp-for="Ksiazeczka.ojciec">Ojciec:</label>
                        <input asp-for="Ksiazeczka.ojciec" class="form-control" />
                        <span asp-validation-for="Ksiazeczka.ojciec" class="text-danger"></span>
                    </div>
                    <div class="form-group mt-4">
                        <label asp-for="Ksiazeczka.data_zalozenia">Data założenia:</label>
                        <input asp-for="Ksiazeczka.data_zalozenia" type="date" class="form-control" />
                        <span asp-validation-for="Ksiazeczka.data_zalozenia" class="text-danger"></span>
                    </div>
                    <button type="submit" class="btn btn-success mt-3">Dodaj</button>
                 </form>

                 <form method="post" asp-page-handler="NowyWpis">
                    <div class="form-group mt-4">
                        <label asp-for="NowyWpis.tytul">Tytuł:</label>
                        <input asp-for="NowyWpis.tytul" class="form-control" />
                        <span asp-validation-for="NowyWpis.tytul" class="text-danger"></span>
                    </div>
                    <div class="form-group mt-4">
                        <label asp-for="NowyWpis.opis">Opis:</label>
                        <input asp-for="NowyWpis.opis" class="form-control" />
                        <span asp-validation-for="NowyWpis.opis" class="text-danger"></span>
                    </div>
                    <button on type="submit" class="btn btn-success mt-3">Dodaj wpis</button>
                 </form>
            </div>

            

        <div class="col-md-6">
            @if(Model.FetchedKsiazeczka != null)
            {
                <div>
                    <h5>Dane książeczki:</h5>
                    <p>Matka: @Model.FetchedKsiazeczka.matka</p>
                    <p>Ojciec: @Model.FetchedKsiazeczka.ojciec</p>
                    <p>Data dodania: @Model.FetchedKsiazeczka.data_zalozenia</p>
                </div>

                @foreach(Wpis wpis in Model.FetchedKsiazeczka.Wpis)
                {
                    <div style="border: solid; border-radius: 5px; padding: 10px; margin-top: 10px;">
                        <h5>@wpis.tytul</h5>
                        <p>@wpis.opis</p>
                    </div>
                }
            }
            else
            {
                <p>Ten zwierzak nie ma jeszcze książeczki</p>
            }
        </div>
    </div>

